<aura:component implements="flexipage:availableForAllPageTypes" controller="filecontent" >
    <aura:attribute name="isOpen" type="boolean" default="false"/>
    <aura:attribute name="parentId" type="Id" />
    <aura:attribute name="label" type="String" />
    <aura:attribute name="uploading" type="Boolean" default="false" />
    <aura:handler event="aura:waiting" action="{!c.waiting}" />
    <aura:handler event="aura:doneWaiting" action="{!c.doneWaiting}" />
    <!-- data list  content version object -->
    <aura:attribute name="files" type="ContentVersion" default="{'sObjectType':'ContentVersion'}"/>
    <aura:attribute name="contents" type="object"/>
    <aura:attribute name="fields" type="object"/>
    <aura:handler name="init" value="{!this}" action="{!c.invoke}"/>
    <lightning:card class="card">
        <center>
            <lightning:button variant="brand"
                              label="Upload Files"
                              title="Upload File"
                              onclick="{! c.openModel }" />
        </center>
        <lightning:card>
            <lightning:datatable data="{!v.contents}" columns="{!v.fields }" keyField="id" />
        </lightning:card>
    </lightning:card>
    <aura:if isTrue="{!v.isOpen}">
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
                        <!--<svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
               <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
            </svg>-->
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">New File Upload</h2>
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <aura:if isTrue="{!v.uploading}">
                        <lightning:spinner alternativeText="Loading" size="large" />
                    </aura:if>
                    <div>
                        <div class="slds-form-element">
                            <span class="slds-form-element__label" id="file-selector-primary-label">{! v.label }</span>
                            <div class="slds-form-element__control">
                                <lightning:select name="selectItem" label="Select an item" onchange="{!c.doSomething}">
                                    <option value="">choose one...</option>
                                    <option value="1">Show</option>
                                    <option value="2">Hide</option>
                                </lightning:select>
                                
                                <br/> 
                                <br/>
                                <br/>
                                <br/>
                                <br/>
                                <div class="slds-file-selector slds-file-selector_files">
                                    <div class="slds-file-selector__dropzone">
                                        <lightning:card > 
                                            <input aura:id="file" class="slds-file-selector__input slds-assistive-text" type="file" id="file-upload-input-01"
                                                   aria-labelledby="file-selector-primary-label file-selector-secondary-label" />
                                            <label class="slds-file-selector__body" for="file-upload-input-01" id="file-selector-secondary-label">
                                                <span class="slds-file-selector__button slds-button slds-button_neutral">
                                                    <lightning:icon iconName="utility:upload" size="xx-small" alternativeText="upload" />
                                                    UploadFiles
                                                </span>
                                                <span class="slds-file-selector__text slds-medium-show">
                                                    or Drop Files
                                                </span>
                                                
                                                
                                            </label>
                                        </lightning:card>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <footer class="slds-modal__footer slds-modal__footer_directional">
                    <lightning:button variant="neutral"
                                      label="Cancel"
                                      title="Cancel"
                                      onclick="{! c.closeModel }"/>
                    <span>
                        <ui:button label="Upload" press="{!c.save}" />
                    </span>
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>  
    </aura:if>
    
</aura:component>